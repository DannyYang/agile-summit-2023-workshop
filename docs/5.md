# 5. é¦–æ¬¡é€²è¡Œéƒ¨ç½²èˆ‡é©—è­‰

![Untitled](5/Untitled.png)

<aside>
ğŸ’¡ æ¥ä¸‹ä¾†å°‡æœƒæ­£å¼éƒ¨ç½²åˆ°é›²ç«¯å¢é›†å…©å€‹ç’°å¢ƒä¸Šï¼Œéç¨‹ä¸­æœƒæœ‰ä¸‰æ¬¡è¿­ä»£ï¼Œåˆ†åˆ¥æ˜¯(1)æ›´æ”¹è¨­å®š (2)æ›´æ”¹å¾Œç«¯ç¨‹å¼ç¢¼ï¼Œ(3)æ›´æ”¹å‰ç«¯ç¨‹å¼ç¢¼ï¼Œéç¨‹ä¸­æœƒè§¸ç™¼ä¸åŒGIthub Action pipeline

</aside>

(1)å›åˆ°Rancherç®¡ç†ç•«é¢ï¼Œé»æ“Šå·¦ä¸Šæ–¹æ¼¢å ¡é¸é …

![Untitled](5/Untitled%201.png)

(2)é»æ“ŠContinuous Delivery

![Untitled](5/Untitled%202.png)

(3)åœ¨Git Repos åŠŸèƒ½é¸é …ä¸­ï¼Œé»æ“ŠAdd Repository

![Untitled](5/Untitled%203.png)

(4)é™¤äº†Repository URLå¡«å¯«å€‹äººçš„ä¹‹å¤–ï¼Œå…¶ä»–éƒ¨åˆ†è«‹èª¿æ•´

| æ¬„ä½ | å¡«å…¥ | èªªæ˜ |
| --- | --- | --- |
| Name | dev | devç’°å¢ƒ è¾¨åˆ¥çš„åç¨± |
| Repository URL | å€‹äººRepo URL | gitops çš„repository |
| Branch Name | main | gitops åµæ¸¬çš„branch |
| Paths | /deploy/dev | gitops åµæ¸¬çš„éƒ¨ç½²ç›®éŒ„, è£¡é¢ç‚ºK8séƒ¨ç½²ç‰©ä»¶ |

![Untitled](5/Untitled%204.png)

(5)ç·¨è¼¯å®Œæˆå¾Œï¼Œå³ä¸‹è§’Next

åœ¨Targetçš„ä¸‹æ‹‰é¸å–®ä¸­ï¼Œè«‹é¸æ“‡ã€Œcluster1ã€ 

![Untitled](5/Untitled%205.png)

(6)æŒ‰ä¸‹Createå¾Œï¼Œå®Œæˆcluster 1çš„GitOpséƒ¨ç½²é…ç½®

![Untitled](5/Untitled%206.png)

(7)é©—è­‰éƒ¨ç½²çµæœï¼Œé»é¸å·¦ä¸Šæ–¹æ¼¢å ¡é¸å–®ï¼Œé»æ“Šcluster1

![Untitled](5/Untitled%207.png)

(8)åœ¨Service Discoveryåº•ä¸‹ï¼Œé»æ“ŠIngressesï¼Œå¾Œé¸æ“‡ Name ç‚ºui-ingress æ—é‚Šçš„urlé€£çµ

![Untitled](5/Untitled%208.png)

(9)é»æ“Šå¾Œï¼Œå°‡æœƒé–‹å•Ÿåˆ†é ï¼Œçœ‹åˆ°ä»¥ä¸‹ç•«é¢ä»£è¡¨ï¼Œdevç’°å¢ƒé…ç½®å®Œæˆ

![Untitled](5/Untitled%209.png)

(10)æ¥è‘—å›åˆ°å‰›å‰›é…ç½®Gitçš„Continuous Delivery

![Untitled](5/Untitled%2010.png)

(11)åœ¨Git Reposä¸­ï¼Œåœ¨æ–°å¢å¦ä¸€å€‹Repositoryï¼Œé»æ“ŠAdd Repository

![Untitled](5/Untitled%2011.png)

(12)å¡«å…¥ä»¥ä¸‹è³‡è¨Š

| æ¬„ä½ | å¡«å…¥ | èªªæ˜ |
| --- | --- | --- |
| Name | uat | uatç’°å¢ƒ è¾¨åˆ¥çš„åç¨± |
| Repository URL | å€‹äººRepo URL | gitops çš„repository |
| Branch Name | main | gitops åµæ¸¬çš„branch, github é è¨­main branch |
| Paths | /deploy/dev | gitops åµæ¸¬çš„éƒ¨ç½²ç›®éŒ„, è£¡é¢ç‚ºK8séƒ¨ç½²ç‰©ä»¶ |

è¼¸å…¥å®Œæˆå¾Œï¼Œé»æ“Šå³ä¸‹è§’Next

![Untitled](5/Untitled%2012.png)

(13)è«‹é¸æ“‡éƒ¨ç½²çš„Clusterï¼Œè«‹é¸æ“‡cluster2ï¼Œé¸æ“‡å¾Œï¼Œé»æ“Šå³ä¸‹è§’Create

![Untitled](5/Untitled%2013.png)

(14)ç­‰å¾…uatéƒ¨ç½²å®Œæˆ

![Untitled](5/Untitled%2014.png)

(15)é©—è­‰éƒ¨ç½²çµæœï¼Œé»é¸å·¦ä¸Šæ–¹æ¼¢å ¡é¸å–®ï¼Œé»æ“Šcluster2

![Untitled](5/Untitled%2015.png)

åœ¨Service Discorveryåº•ä¸‹ï¼Œé»æ“ŠIngresses

![Untitled](5/Untitled%2016.png)

é»æ“Šå¾Œï¼Œå°‡æœƒé–‹å•Ÿåˆ†é ï¼Œçœ‹åˆ°ä»¥ä¸‹ç•«é¢ä»£è¡¨uatç’°å¢ƒé…ç½®å®Œæˆ

![Untitled](5/Untitled%2017.png)

[6. é€²è¡Œä¿®æ”¹è®“æµæ°´ç·šè‡ªå‹•éƒ¨ç½²å§ Part 1](6.md)